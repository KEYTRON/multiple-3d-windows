# Multiple window 3D project

Эффект «плазменных сфер» (WebGL/Three.js) с параметрами через URL и синхронизацией между окнами. Открой несколько браузерных окон — получишь визуально «взаимодействующие» сферы с автоматической синхронизацией параметров.

## Требования
- Python 3 установлен в системе
- direnv (опционально, но рекомендовано)

## Быстрый старт
```bash
direnv allow          # активируем .envrc (один раз)
python manage.py runserver
# Открыть: http://localhost:8000
```

## Параметры URL
- `hue` — тон (0–360), по умолчанию 0 (красная область).
- `speed` — скорость (0.1–3), по умолчанию 1.2.
- `mirror` — 0|1, зеркалит симметрию по X.
- `seed` — строка для детерминированного сдвига оттенка (легкая вариативность).

## Новые возможности

### Автоматическая генерация параметров
- Откройте http://localhost:8000/ без параметров — получите случайную сферу
- Каждое новое окно получает уникальные параметры автоматически

### Синхронизация между окнами
- Окна автоматически синхронизируются через BroadcastChannel
- Изменения в одном окне передаются во все остальные
- HUD показывает количество синхронизированных окон

### Управление клавишами
- **H** — случайный цвет (hue)
- **S** — случайная скорость
- **M** — переключить зеркало
- **R** — полная рандомизация всех параметров

## Примеры
- **Левое окно (зелёная, зеркальная):**

http://localhost:8000/?hue=140&speed=1.2&mirror=1&seed=left

- **Правое окно (красная):**

http://localhost:8000/?hue=0&speed=1.2&mirror=0&seed=right

- **Случайная сфера:**

http://localhost:8000/

Открой несколько окон — получишь синхронизированные сферы!

## Примечания
- Рендер — во весь экран (canvas). HUD со справкой — внизу слева.
- Шейдеры лежат в `frontend/shaders`.
- В будущем можно вынести данные в WebSocket-шину, чтобы окна синхронно обменивались состоянием (для живых «стыковок» сцен).

---

## Что делать после генерации файлов

1) В корне проекта (где `.envrc`) выполни:
```bash
direnv allow
python manage.py runserver
```

2) Открой две вкладки:
- http://localhost:8000/?hue=140&speed=1.2&mirror=1&seed=left
- http://localhost:8000/?hue=0&speed=1.2&mirror=0&seed=right

Будет как на видео: зелёно-красные «сферы» с динамикой и свето-хвостами. Для тонкой настройки играйся hue/speed/mirror/seed.